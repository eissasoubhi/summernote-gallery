{"version":3,"file":"snb-gallery-brick.min.js","mappings":"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","sources":["webpack://summernote-gallery/./src/Module/DataManager.ts","webpack://summernote-gallery/./src/Module/EventManager.ts","webpack://summernote-gallery/./src/Module/GalleryModal.ts","webpack://summernote-gallery/./src/Module/SummernoteGallery.ts","webpack://summernote-gallery/./src/Module/index.ts","webpack://summernote-gallery/webpack/bootstrap","webpack://summernote-gallery/webpack/runtime/define property getters","webpack://summernote-gallery/webpack/runtime/hasOwnProperty shorthand","webpack://summernote-gallery/webpack/runtime/make namespace object","webpack://summernote-gallery/./src/index.ts"],"sourcesContent":["import EventManager from './EventManager'\nimport DataManagerOptionsInterface from \"./Interfaces/DataManagerOptionsInterface\";\n\nexport default class DataManager {\n    private fetch_type?: string;\n    private options: DataManagerOptionsInterface;\n    private current_page: number;\n    private is_fetching_locked: boolean;\n    private event: EventManager;\n    private fetch_url: string;\n\n    constructor(options: DataManagerOptionsInterface) {\n        this.options = {\n            ...{\n                // full http url for fetching data\n                url: null,\n\n                // array of objects with 'src' and 'title' keys\n                data: [],\n\n                // the key name that holds the data array\n                responseDataKey: 'data',\n\n                // the key name that holds the next page link\n                nextPageKey: 'links.next',\n            }, ...options\n        }\n\n        this.init();\n    }\n\n    init() {\n        this.current_page = 0;\n        this.is_fetching_locked = false;\n        this.event = new EventManager();\n        this.fetch_url = this.options.url;\n        this.fetch_type = this.options.data.length ? 'data' : (this.fetch_url ? 'url' : null);\n    }\n\n    // stop data fetching if neither next page link nor data were found\n    setNextFetch(response: any) {\n        if (response.next_link && response.data.length) {\n            this.fetch_url = response.next_link;\n        } else {\n            this.lockFetching();\n        }\n    }\n\n    lockFetching() {\n        this.is_fetching_locked = true;\n    }\n\n    unlockFetching() {\n        this.is_fetching_locked = false;\n    }\n\n    // get a key from object with dot notation, example: data.key.subkey.\n    getObjectKeyByString(object: any, dotted_key: string, default_val?: any) {\n        const value = dotted_key.split('.').reduce(function (item: any, i: any) {\n            return item ? item[i] : {};\n        }, object);\n\n        if (typeof default_val == 'undefined') {\n            default_val = value;\n        }\n\n        return value && !$.isEmptyObject(value) ? value : default_val;\n    }\n\n    parseResponse(response: any) {\n\n        return {\n            data: this.getObjectKeyByString(response, this.options.responseDataKey, []),\n            next_link: this.getObjectKeyByString(response, this.options.nextPageKey, null)\n        };\n    }\n\n    fetchData() {\n        const _this = this;\n\n        if (this.fetch_type == 'data') {\n\n            this.event.trigger('beforeFetch');\n            this.event.trigger('fetch', [_this.options.data]);\n            this.event.trigger('afterFetch');\n\n        } else if (this.fetch_type == 'url') {\n\n            // Prevent simultaneous requests.\n            // Because we need to get the next page link from each request,\n            // they must be synchronous.\n            if (this.is_fetching_locked) return;\n\n            const current_link = _this.fetch_url;\n\n            this.event.trigger('beforeFetch');\n\n            this.lockFetching();\n\n            $.ajax({\n                url: current_link,\n                beforeSend:function(xhr: any){\n                    // set the request link to get it afterwards in the response\n                    xhr.request_link = current_link;\n                },\n            })\n            .always(function () {\n                // this is the first callback to be called when the request finises\n                _this.unlockFetching();\n            })\n            .done(function(response, status_text, xhr: any){\n                const parsed_response = _this.parseResponse(response);\n                _this.current_page++;\n\n                //\n                _this.setNextFetch(parsed_response);\n\n                _this.event.trigger('fetch', [\n                    parsed_response.data,\n                    _this.current_page,\n                    xhr.request_link,\n                    parsed_response.next_link\n                ]);\n            })\n            .fail(function() {\n                _this.event.trigger('error', [\"problem loading from \" + current_link]);\n            })\n            .always(function () {\n                _this.event.trigger('afterFetch');\n            });\n\n        } else {\n            _this.event.trigger('error', [\"options 'data' or 'url' must be set\"]);\n        }\n    }\n\n    fetchNext() {\n        if (this.fetch_type == 'url') {\n            this.fetchData();\n        }\n    }\n}\n","export default class EventManager {\n    private events_queue: {};\n    constructor() {\n        // events store\n        this.events_queue = {};\n    }\n\n    // Register an event\n    on(event_name: string, closure: any) {\n        // @ts-ignore\n        if (! Array.isArray(this.events_queue[event_name]) ) {\n            // @ts-ignore\n            this.events_queue[event_name] = [];\n        }\n\n        // @ts-ignore\n        this.events_queue[event_name].push(closure);\n\n        return this;\n    }\n\n    // Fire an event\n    trigger(event_name: string, params: any = []) {\n        // @ts-ignore\n        const events = this.events_queue[event_name] || [];\n\n        for (let i = 0; i < events.length; i++) {\n            events[i].apply(this, params);\n        }\n\n        return this;\n    }\n\n    clearAll() {\n        this.events_queue = {};\n\n        return this;\n    }\n}","import EventManager from './EventManager'\n\nexport default class GalleryModal {\n    private $css: JQuery;\n    private readonly select_class: string;\n    private event: EventManager;\n    private template: string;\n    private readonly $modal: any;\n    private options: any;\n\n    constructor(options: any) {\n        this.options = $.extend({\n            // load more data on modal scroll\n            loadOnScroll: false,\n\n            // modal max height\n            maxHeight: 500,\n\n            // modal title\n            title: 'summernote image gallery',\n\n            // close button text\n            close_text: 'Close',\n\n            // save button text\n            ok_text: 'Add',\n\n            // select all button text\n            selectAll_text: 'Select all',\n\n            // deselect all button text\n            deselectAll_text: 'Deselect all',\n\n            // message error to display when no image is selected\n            noImageSelected_msg: 'One image at least must be selected.'\n        }, options);\n\n        this.event = new EventManager();\n\n        this.template = this.getModalTemplate();\n        this.$modal = $(this.template).hide();\n\n        // class to add to image when selected\n        this.select_class = \"selected-img\";\n\n        this.addStyleToDom();\n        this.setOptions();\n\n        this.attachEvents();\n    }\n\n    setOptions() {\n        this.$modal.find('.modal-body').css('max-height', this.options.maxHeight);\n        this.$modal.find('.modal-title').html(this.options.title);\n        this.$modal.find('#close').html(this.options.close_text);\n        this.$modal.find('#save').html(this.options.ok_text);\n        this.$modal.find('#select-all').html(this.options.selectAll_text);\n        this.$modal.find('#deselect-all').html(this.options.deselectAll_text);\n    }\n\n    // append images to the modal with data object\n    addImages(data: any, page: any) {\n\n        var $page_images = this.createImages(data, page);\n        var $images_list = this.$modal.find('.images-list');\n\n        if ($images_list.find('.img-item').length) {\n            this.$modal.find('.images-list').append($page_images);\n        } else {\n            this.$modal.find('.images-list').html($page_images);\n        }\n    }\n\n    // generate image elements from data object\n    createImages(data: any, page: any) {\n        var _this = this;\n        let content = []\n\n        for (var i = 0; i < data.length; i++) {\n\n            var $image = $('<img class=\"img-thumbnail sng-image\" title=\"'+ data[i].title +'\" data-page=\"' + page + '\"/>');\n\n            $image.get(0).onload = function() {\n                $(this).siblings('.loading').hide()\n                $(this).click(function(event) {\n                    $(this).toggleClass(_this.select_class);\n                });\n            }\n\n            $image.attr('src', data[i].src);\n\n            var $item = $('<div class=\"col-md-2 mb-4 img-item\">'\n                            +'<i class=\"fa fa-check\"></i>'\n                            +'<span class=\"loading\">'\n                                +'<i class=\"fa fa-spinner fa-pulse fa-3x fa-fw\"></i>'\n                            +'</span>'\n                        +'</div>');\n\n            $item.prepend($image);\n            content.push($item)\n        }\n\n        return content;\n    }\n\n    showError(message_text: any, permanent: any = false) {\n        var $message = this.$modal.find('.message');\n\n        $message.html('<span class=\"alert alert-danger\">' + message_text + '</span>');\n\n        if (!permanent) {\n            setTimeout(function () {\n                $message.html('');\n            }, 5000);\n        }\n    }\n\n    showLoading () {\n        this.$modal.find('.modal-footer .loading').show();\n    }\n\n    hideLoading () {\n        this.$modal.find('.modal-footer .loading').hide();\n    }\n\n    attachEvents() {\n        var _this = this;\n        var $modal = this.$modal;\n        var $modal_body = $modal.find('.modal-body');\n\n        $modal.find(\"button#save\").click(function(event: any) {\n            var $selected_img = $modal.find('.img-item img.' + _this.select_class);\n\n            if (! $selected_img.length) {\n                _this.showError(_this.options.noImageSelected_msg);\n                return;\n            }\n\n            $modal.modal('hide')\n\n            _this.event.trigger('beforeSave', [_this]);\n\n            $selected_img.each(function(index: any, el: any) {\n                _this.event.trigger('save', [_this, $(this)]);\n\n                $(this).removeClass(_this.select_class);\n            });\n\n            _this.event.trigger('afterSave', [this]);\n        });\n\n        $modal.on('hidden.bs.modal', function () {\n            _this.event.trigger('close')\n        })\n\n        $modal.find(\"button#select-all\").click(function(event: any) {\n            $modal.find('img').addClass(_this.select_class);\n        });\n\n        $modal.find(\"button#deselect-all\").click(function(event: any) {\n            $modal.find('img').removeClass(_this.select_class);\n        });\n\n        $modal_body.scroll(function() {\n            var $images_list = $modal.find('.images-list');\n            var is_near_bottom = $modal_body.scrollTop() + $modal_body.height() >= $images_list.height() - 100;\n\n            if (is_near_bottom) {\n                _this.event.trigger('scrollBottom', [_this]);\n            }\n        });\n    }\n\n    open() {\n        this.$modal.modal();\n    }\n\n    clearContent() {\n        // Reset the initial html\n        this.$modal.find('.images-list').html('');\n    }\n\n    // whether the images' container has enough content to show the vertical scroll\n    imagesContainerHasScroll() {\n        var $images_container = this.$modal.find('.modal-body');\n        var $images_list = $images_container.find('.images-list');\n\n        return parseInt($images_list.height()) > parseInt($images_container.height());\n    }\n\n    getModalTemplate() {\n\n        var bootsrap_version = parseInt(($ as any).fn.modal.Constructor.VERSION);\n        var header_content = [\n            '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>',\n            '<h4 class=\"modal-title\">[gallery title]</h4>'\n        ];\n\n        var modal_html = ''+\n            '<div class=\"modal summernote-gallery fade\" tabindex=\"-1\" role=\"dialog\">'\n                + '<div class=\"modal-lg modal-dialog \">'\n                    + '<div class=\"modal-content\">'\n                        + '<div class=\"modal-header\">'\n                            + (bootsrap_version == 3 ? header_content.join('') : header_content.reverse().join(''))\n                        + '</div>'\n                        + '<div class=\"modal-body\">'\n                            + '<div class=\"row images-list\">'\n                            + '</div>'\n                        + '</div>'\n                        + '<div class=\"modal-footer\">'\n                            + '<span style=\"display: none;position: absolute;left: 10px;bottom: 10px;\" class=\"loading\" >'\n                                + '<i class=\"fa fa-spinner fa-pulse fa-3x fa-fw\"></i>'\n                            + '</span >'\n                            + '<span style=\"display: inline-block; margin-right: 50px;\">'\n                                + '<button type=\"button\" id=\"deselect-all\" class=\"btn btn-default\">[Deselect-all]</button>'\n                                + '<button type=\"button\" id=\"select-all\" class=\"btn btn-default\">[select-all]</button>'\n                            + '</span >'\n                            + '<button type=\"button\" id=\"close\" class=\"btn btn-default\" data-dismiss=\"modal\">[Close]</button>'\n                            + '<button type=\"button\" id=\"save\" class=\"btn btn-primary\">[Add]</button>'\n                            + '<span class=\"message\" ></span >'\n                        + '</div>'\n                    + '</div>'\n                + '</div>'\n            + '</div>';\n\n        return modal_html;\n    }\n\n    addStyleToDom() {\n        this.$css = $('<style>'\n                        +'.img-item{'\n                            +'position : relative;'\n                        +'}'\n                        +'.img-item .fa-check{'\n                            +'position : absolute;'\n                            +'top : -10px;'\n                            +'right : 5px;'\n                            +'font-size: 30px;'\n                            +'color: #337AB7;'\n                        +'}'\n                        +'.img-item .sng-image{'\n                            /*+'min-height : 119.66px;'*/\n                        +'}'\n                        +'.img-item .loading{'\n                            +'position: absolute;'\n                            +'margin: auto;'\n                            +'top: -20px;'\n                            +'bottom: 0;'\n                            +'display: block;'\n                            +'left: 0;'\n                            +'right: 0;'\n                            +'width: 60px;'\n                            +'height: 42px;'\n                            +'text-align: center;'\n                        +'}'\n                        +'.modal.summernote-gallery .message{'\n                            +'display: block;'\n                            +'padding: 30px 0 20px 0;'\n                        +'}'\n                        +'.modal.summernote-gallery .message:empty{'\n                            +'display: block;'\n                            +'padding: 0px!important;'\n                        +'}'\n                        +'.modal.summernote-gallery .modal-body{'\n                            +'overflow: scroll;'\n                        +'}'\n                        +'.img-item .fa-check{'\n                            +'display : none;'\n                        +'}'\n                        +'.img-item .'+ this.select_class +' + .fa-check{'\n                            +'display : block;'\n                        +'}'\n                        +'.'+ this.select_class +'{'\n                            +'background-color: #5CB85C;'\n                        +'}'\n                    +'</style>');\n        this.$css.appendTo('body');\n    }\n}","import GalleryModal from './GalleryModal'\nimport DataManager from './DataManager'\n\nexport default class SummernoteGallery {\n    private options: any;\n    private plugin_default_options: {};\n    private editor: any;\n    private editable: any;\n    private context: any;\n    private plugin_options: any;\n    private modal: any;\n    private data_manager: any;\n    constructor(options: any) {\n        this.options = $.extend({\n            name: 'summernoteGallery',\n            buttonLabel: '<i class=\"fa fa-file-image-o\"></i> SN Gallery',\n            tooltip: 'summernote gallery'\n        }, options);\n\n        this.plugin_default_options = {}\n    }\n\n    // set the focus to the last focused element in the editor\n    recoverEditorFocus() {\n        var last_focused_el = $(this.editor).data('last_focused_element');\n        if(typeof last_focused_el !== \"undefined\") {\n            var editor = this.editable;\n            var range = document.createRange();\n            var sel = window.getSelection();\n            var cursor_position =  last_focused_el.length;\n\n            range.setStart(last_focused_el, cursor_position);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n            editor.focus();\n        }\n    }\n\n    saveLastFocusedElement() {\n        var focused_element: any = window.getSelection().focusNode;\n        var parent = $(this.editable).get(0);\n        if ($.contains(parent, focused_element)) {\n            $(this.editor).data('last_focused_element', focused_element)\n        }\n    }\n\n    attachEditorEvents() {\n        var _this = this;\n\n        $(this.editable).on('keypress, mousemove', function() {\n            _this.saveLastFocusedElement();\n        })\n\n        $(this.editable).on('click', 'summernote-gallery-brick .delete', function () {\n            // delete brick\n        })\n\n        $(this.editable).on('click', 'summernote-gallery-brick .edit', function () {\n            let $brick = $(this).parents('summernote-gallery-brick');\n            let data = $brick.data('brick'); // json\n\n            _this.modal.open(data);\n        })\n    }\n\n    initGallery(context: any) {\n        this.context = context;\n        this.editor = this.context.layoutInfo.note;\n        this.editable = this.context.layoutInfo.editable;\n        this.plugin_options = $.extend(\n            this.plugin_default_options,\n            this.context.options[this.options.name] || {}\n        )\n\n        this.modal = new GalleryModal(this.plugin_options.modal);\n        this.data_manager = new DataManager(this.plugin_options.source);\n\n        this.attachModalEvents();\n        this.attachEditorEvents();\n    }\n\n    attachModalEvents() {\n        var _this = this;\n\n        this.modal.event.on('beforeSave', function (gallery_modal: any) {\n            _this.recoverEditorFocus();\n        });\n\n        this.modal.event.on('save', function (gallery_modal: any, $image: any) {\n            // add selected images to summernote editor\n            _this.context.invoke(\n                'editor.pasteHTML',\n                '<img src=\"' + $image.attr('src') + '\" alt=\"' + ($image.attr('alt') || \"\") + '\" />'\n            );\n        });\n\n        this.modal.event.on('scrollBottom', function (gallery_modal: any) {\n            if (_this.modal.options.loadOnScroll) {\n                _this.data_manager.fetchNext();\n            }\n        });\n\n        this.modal.event.on('close', function (gallery_modal: any) {\n            _this.data_manager.init();\n            _this.modal.clearContent();\n        });\n    }\n\n    createButton() {\n        var _this = this;\n\n        var button = ($ as any).summernote.ui.button({\n            className: 'w-100',\n            contents: this.options.buttonLabel,\n            tooltip: this.options.tooltip,\n            click: function() {\n                _this.openGallery();\n            }\n        });\n\n        // create jQuery object from button instance.\n        return button.render();\n    }\n\n    attachDataEvents() {\n        var _this = this;\n\n        this.data_manager.event\n        .on('beforeFetch', function () {\n            _this.modal.showLoading();\n        })\n        .on('fetch', function (data: any, page: any, link: any) {\n            _this.modal.addImages(data, page);\n\n            setTimeout(function () {\n                if (_this.modal.options.loadOnScroll && !_this.modal.imagesContainerHasScroll()) {\n                    // The loadOnScroll won't work if the images' container doesn't have the scroll displayed,\n                    // so we need to keep loading the images until the scroll shows.\n                    _this.data_manager.fetchNext();\n                }\n            }, 2000)\n        })\n        .on('afterFetch', function () {\n            _this.modal.hideLoading();\n        })\n        .on('error', function (error: any) {\n            _this.modal.showError(error, true);\n        });\n    }\n\n    openGallery() {\n        this.attachDataEvents();\n        this.data_manager.fetchData();\n        this.modal.open();\n    }\n}","import SummernoteGallery from './SummernoteGallery'\n\nexport default class GalleryPlugin {\n    protected summernote_gallery: any\n    constructor(options: any) {\n        this.summernote_gallery = new SummernoteGallery(options);\n    }\n\n    getPlugin() {\n        let plugin = {};\n        let _this = this;\n        let options = this.summernote_gallery.options\n\n        // @ts-ignore\n        plugin[options.name] = function(context) {\n\n            let sgOptions = context.options[options.name] || {}\n            let buttonLabel = sgOptions.buttonLabel || _this.summernote_gallery.options.buttonLabel\n\n            _this.summernote_gallery.options.buttonLabel = buttonLabel\n\n            // add gallery button\n            context.memo('button.' + options.name, _this.createButton());\n\n            this.events = {\n                'summernote.keyup': function(we: any, e: any)\n                {\n                    _this.summernote_gallery.saveLastFocusedElement();\n                }\n            };\n\n            this.initialize = function() {\n                _this.summernote_gallery.initGallery(context);\n            };\n        }\n\n        return plugin;\n    }\n\n    createButton() {\n        return this.summernote_gallery.createButton();\n    }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import GalleryPlugin from './Module'\n\nvar gallery_plugin = new GalleryPlugin({});\n\n// add the plugin to summernote\n$.extend(($ as any).summernote.plugins, gallery_plugin.getPlugin());"],"names":[],"sourceRoot":""}