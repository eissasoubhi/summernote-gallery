{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Module/DataManager.js","webpack:///./src/Module/EventManager.js","webpack:///./src/Module/GalleryModal.js","webpack:///./src/Module/SummernoteGallery.js","webpack:///./src/Module/index.js","webpack:///./src/index.js"],"names":["DataManager","options","$","extend","url","data","responseDataKey","nextPageKey","init","response","current_page","is_fetching_locked","event","EventManager","fetch_url","fetch_type","length","next_link","lockFetching","object","dotted_key","default_val","value","split","reduce","item","i","isEmptyObject","getObjectKeyByString","_this","trigger","current_link","ajax","beforeSend","xhr","request_link","always","unlockFetching","done","status_text","parsed_response","parseResponse","setNextFetch","fail","fetchData","events_queue","event_name","closure","Array","isArray","push","params","events","apply","GalleryModal","loadOnScroll","maxHeight","title","close_text","ok_text","selectAll_text","deselectAll_text","noImageSelected_msg","template","getModalTemplate","$modal","hide","select_class","addStyleToDom","setOptions","attachEvents","find","css","html","page","page_images","createImages","$images_list","append","attributes","$content","$image","get","onload","siblings","click","toggleClass","attr","src","$item","prepend","message_text","permanent","$message","setTimeout","show","$modal_body","$selected_img","showError","modal","each","index","el","removeClass","on","addClass","scroll","is_near_bottom","scrollTop","height","$images_container","bootsrap_version","parseInt","fn","Constructor","VERSION","header_content","modal_html","join","reverse","$css","appendTo","SummernoteGallery","name","button_label","tooltip","plugin_default_options","last_focused_el","editor","editable","range","document","createRange","sel","window","getSelection","cursor_position","setStart","collapse","removeAllRanges","addRange","focus","focused_element","focusNode","parent","contains","saveLastFocusedElement","context","layoutInfo","note","plugin_options","data_manager","source","attachModalEvents","attachEditorEvents","gallery_modal","recoverEditorFocus","invoke","fetchNext","clearContent","button","summernote","ui","contents","openGallery","render","showLoading","link","addImages","imagesContainerHasScroll","hideLoading","error","attachDataEvents","open","GalleryPlugin","plugin","summernote_gallery","memo","createButton","we","e","initialize","initGallery","gallery_plugin","plugins","getPlugin"],"mappings":"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","file":"summernote-gallery.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import EventManager from './EventManager'\n\nexport default class DataManager {\n\n    constructor(options) {\n        this.options = $.extend({\n            // full http url for fetching data\n            url: null,\n\n            // array of objects with 'src' and 'title' keys\n            data: [],\n\n            // the key name that holds the data array\n            responseDataKey: 'data',\n\n            // the key name that holds the next page link\n            nextPageKey: 'links.next',\n        }, options);\n\n        this.init();\n    }\n\n    init(response) {\n        this.current_page = 0;\n        this.is_fetching_locked = false;\n        this.event = new EventManager();\n        this.fetch_url = this.options.url;\n        this.fetch_type = this.options.data.length ? 'data' : (this.fetch_url ? 'url' : null);\n    }\n\n    // stop data fetching if neither next page link nor data were found\n    setNextFetch(response) {\n        if (response.next_link && response.data.length) {\n            this.fetch_url = response.next_link;\n        } else {\n            this.lockFetching();\n        }\n    }\n\n    lockFetching() {\n        this.is_fetching_locked = true;\n    }\n\n    unlockFetching() {\n        this.is_fetching_locked = false;\n    }\n\n    // get a key from object with dot notation, example: data.key.subkey.\n    getObjectKeyByString(object, dotted_key, default_val) {\n        var value = dotted_key.split('.').reduce(function (item, i) {\n            return item ? item[i] : {};\n        }, object);\n\n        if (typeof default_val == 'undefined') {\n            default_val = value;\n        }\n\n        return value && !$.isEmptyObject(value) ? value : default_val;\n    }\n\n    parseResponse(response) {\n\n        return {\n            data: this.getObjectKeyByString(response, this.options.responseDataKey, []),\n            next_link: this.getObjectKeyByString(response, this.options.nextPageKey, null)\n        };\n    }\n\n    fetchData() {\n        var _this = this;\n\n        if (this.fetch_type == 'data') {\n\n            this.event.trigger('beforeFetch');\n            this.event.trigger('fetch', [_this.options.data]);\n            this.event.trigger('afterFetch');\n\n        } else if (this.fetch_type == 'url') {\n\n            // Prevent simultaneous requests.\n            // Because we need to get the next page link from each request,\n            // they must be synchronous.\n            if (this.is_fetching_locked) return;\n\n            var current_link = _this.fetch_url;\n\n            this.event.trigger('beforeFetch');\n\n            this.lockFetching();\n\n            $.ajax({\n                url: current_link,\n                beforeSend:function(xhr){\n                    // set the request link to get it afterwards in the response\n                    xhr.request_link = current_link;\n                },\n            })\n            .always(function () {\n                // this is the first callback to be called when the request finishs\n                _this.unlockFetching();\n            })\n            .done(function(response, status_text, xhr){\n                var parsed_response = _this.parseResponse(response);\n                _this.current_page++;\n\n                //\n                _this.setNextFetch(parsed_response);\n\n                _this.event.trigger('fetch', [\n                    parsed_response.data,\n                    _this.current_page,\n                    xhr.request_link,\n                    parsed_response.next_link\n                ]);\n            })\n            .fail(function() {\n                _this.event.trigger('error', [\"problem loading from \" + current_link]);\n            })\n            .always(function () {\n                _this.event.trigger('afterFetch');\n            });\n\n        } else {\n            _this.event.trigger('error', [\"options 'data' or 'url' must be set\"]);\n        }\n    }\n\n    fetchNext() {\n        if (this.fetch_type == 'url') {\n            this.fetchData();\n        }\n    }\n}\n","export default class EventManager {\n    constructor() {\n        // events store\n        this.events_queue = {};\n    }\n\n    // Register an event\n    on(event_name, closure) {\n        if (! Array.isArray(this.events_queue[event_name]) ) {\n            this.events_queue[event_name] = [];\n        }\n\n        this.events_queue[event_name].push(closure);\n\n        return this;\n    }\n\n    // Fire an event\n    trigger(event_name, params) {\n        var events = this.events_queue[event_name] || [];\n\n        for (var i = 0; i < events.length; i++) {\n            events[i].apply(this, params);\n        }\n\n        return this;\n    }\n\n    clearAll() {\n        this.events_queue = {};\n\n        return this;\n    }\n}","import EventManager from './EventManager'\n\nexport default class GalleryModal {\n\n    constructor(options) {\n        this.options = $.extend({\n            // load more data on modal scroll\n            loadOnScroll: false,\n\n            // modal max height\n            maxHeight: 500,\n\n            // modal title\n            title: 'summernote image gallery',\n\n            // close button text\n            close_text: 'Close',\n\n            // save button text\n            ok_text: 'Add',\n\n            // select all button text\n            selectAll_text: 'Select all',\n\n            // deselect all button text\n            deselectAll_text: 'Deselect all',\n\n            // message error to display when no image is selected\n            noImageSelected_msg: 'One image at least must be selected.'\n        }, options);\n\n        this.event = new EventManager();\n\n        this.template = this.getModalTemplate();\n        this.$modal = $(this.template).hide();\n\n        // class to add to image when selected\n        this.select_class = \"selected-img\";\n\n        this.addStyleToDom();\n        this.setOptions();\n\n        this.attachEvents();\n    }\n\n    setOptions() {\n        this.$modal.find('.modal-body').css('max-height', this.options.maxHeight);\n        this.$modal.find('.modal-title').html(this.options.title);\n        this.$modal.find('#close').html(this.options.close_text);\n        this.$modal.find('#save').html(this.options.ok_text);\n        this.$modal.find('#select-all').html(this.options.selectAll_text);\n        this.$modal.find('#deselect-all').html(this.options.deselectAll_text);\n    }\n\n    // append images to the modal with data object\n    addImages(data, page) {\n\n        var page_images = this.createImages(data, page);\n        var $images_list = this.$modal.find('.images-list');\n\n        if ($images_list.find('.img-item').length) {\n            this.$modal.find('.images-list').append(page_images);\n        } else {\n            this.$modal.find('.images-list').html(page_images);\n        }\n    }\n\n    // generate image elements from data object\n    createImages(data, page) {\n        var attributes = page ? 'class=\"page-content\" data-page\"' + page + '\"' : '';\n        var $content = $('<div ' + attributes + '></div>');\n        var _this = this;\n\n        for (var i = 0; i < data.length; i++) {\n\n            var $image = $('<img class=\"col-md-12 thumbnail\" title=\"'+ data[i].title +'\"/>');\n\n            $image.get(0).onload = function() {\n                $(this).siblings('.loading').hide()\n                $(this).click(function(event) {\n                    $(this).toggleClass(_this.select_class);\n                });\n            }\n\n            $image.attr('src', data[i].src);\n\n            var $item = $('<div class=\"col-md-2 img-item\">'\n                            +'<i class=\"fa fa-check\"></i>'\n                            +'<span class=\"loading\">'\n                                +'<i class=\"fa fa-spinner fa-pulse fa-3x fa-fw\"></i>'\n                            +'</span>'\n                        +'</div>');\n\n            $item.prepend($image);\n            $content.append($item)\n        }\n\n        return $content;\n    }\n\n    showError(message_text, permanent) {\n        var $message = this.$modal.find('.message');\n\n        $message.html('<span class=\"alert alert-danger\">' + message_text + '</span>');\n\n        if (!permanent) {\n            setTimeout(function () {\n                $message.html('');\n            }, 5000);\n        }\n    }\n\n    showLoading () {\n        this.$modal.find('.modal-footer .loading').show();\n    }\n\n    hideLoading () {\n        this.$modal.find('.modal-footer .loading').hide();\n    }\n\n    attachEvents() {\n        var _this = this;\n        var $modal = this.$modal;\n        var $modal_body = $modal.find('.modal-body');\n\n        $modal.find(\"button#save\").click(function(event) {\n            var $selected_img = $modal.find('.img-item img.' + _this.select_class);\n\n            if (! $selected_img.length) {\n                _this.showError(_this.options.noImageSelected_msg);\n                return;\n            }\n\n            $modal.modal('hide')\n\n            _this.event.trigger('beforeSave', [_this]);\n\n            $selected_img.each(function(index, el) {\n                _this.event.trigger('save', [_this, $(this)]);\n\n                $(this).removeClass(_this.select_class);\n            });\n\n            _this.event.trigger('afterSave', [this]);\n        });\n\n        $modal.on('hidden.bs.modal', function () {\n            _this.event.trigger('close')\n        })\n\n        $modal.find(\"button#select-all\").click(function(event) {\n            $modal.find('img').addClass(_this.select_class);\n        });\n\n        $modal.find(\"button#deselect-all\").click(function(event) {\n            $modal.find('img').removeClass(_this.select_class);\n        });\n\n        $modal_body.scroll(function() {\n            var $images_list = $modal.find('.images-list');\n            var is_near_bottom = $modal_body.scrollTop() + $modal_body.height() >= $images_list.height() - 100;\n\n            if (is_near_bottom) {\n                _this.event.trigger('scrollBottom', [_this]);\n            }\n        });\n    }\n\n    open() {\n        this.$modal.modal();\n    }\n\n    clearContent() {\n        // Reset the initial html\n        this.$modal.find('.images-list').html('');\n    }\n\n    // whether the images container has enough content to show the vertical scroll\n    imagesContainerHasScroll() {\n        var $images_container = this.$modal.find('.modal-body');\n        var $images_list = $images_container.find('.images-list');\n\n        return $images_container.height() != $images_list.height();\n    }\n\n    getModalTemplate() {\n\n        var bootsrap_version = parseInt($.fn.modal.Constructor.VERSION);\n        var header_content = [\n            '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>',\n            '<h4 class=\"modal-title\">[gallery title]</h4>'\n        ];\n\n        var modal_html = ''+\n            '<div class=\"modal summernote-gallery fade\" tabindex=\"-1\" role=\"dialog\">'\n                + '<div class=\"modal-lg modal-dialog \">'\n                    + '<div class=\"modal-content\">'\n                        + '<div class=\"modal-header\">'\n                            + (bootsrap_version == 3 ? header_content.join('') : header_content.reverse().join(''))\n                        + '</div>'\n                        + '<div class=\"modal-body\">'\n                            + '<div class=\"row images-list\">'\n                            + '</div>'\n                        + '</div>'\n                        + '<div class=\"modal-footer\">'\n                            + '<span style=\"display: none;position: absolute;left: 10px;bottom: 10px;\" class=\"loading\" >'\n                                + '<i class=\"fa fa-spinner fa-pulse fa-3x fa-fw\"></i>'\n                            + '</span >'\n                            + '<span style=\"display: inline-block; margin-right: 50px;\">'\n                                + '<button type=\"button\" id=\"deselect-all\" class=\"btn btn-default\">[Deselect-all]</button>'\n                                + '<button type=\"button\" id=\"select-all\" class=\"btn btn-default\">[select-all]</button>'\n                            + '</span >'\n                            + '<button type=\"button\" id=\"close\" class=\"btn btn-default\" data-dismiss=\"modal\">[Close]</button>'\n                            + '<button type=\"button\" id=\"save\" class=\"btn btn-primary\">[Add]</button>'\n                            + '<span class=\"message\" ></span >'\n                        + '</div>'\n                    + '</div>'\n                + '</div>'\n            + '</div>';\n\n        return modal_html;\n    }\n\n    addStyleToDom() {\n        this.$css = $('<style>'\n                        +'.img-item{'\n                            +'position : relative;'\n                        +'}'\n                        +'.img-item .fa-check{'\n                            +'position : absolute;'\n                            +'top : -10px;'\n                            +'right : 5px;'\n                            +'font-size: 30px;'\n                            +'color: #337AB7;'\n                        +'}'\n                        +'.img-item .thumbnail{'\n                            +'min-height : 119.66px;'\n                        +'}'\n                        +'.img-item .loading{'\n                            +'position: absolute;'\n                            +'margin: auto;'\n                            +'top: -20px;'\n                            +'bottom: 0;'\n                            +'display: block;'\n                            +'left: 0;'\n                            +'right: 0;'\n                            +'width: 60px;'\n                            +'height: 42px;'\n                            +'text-align: center;'\n                        +'}'\n                        +'.modal.summernote-gallery .message{'\n                            +'display: block;'\n                            +'padding: 30px 0 20px 0;'\n                        +'}'\n                        +'.modal.summernote-gallery .message:empty{'\n                            +'display: block;'\n                            +'padding: 0px!important;'\n                        +'}'\n                        +'.modal.summernote-gallery .modal-body{'\n                            +'overflow: scroll;'\n                        +'}'\n                        +'.img-item .fa-check{'\n                            +'display : none;'\n                        +'}'\n                        +'.img-item .'+ this.select_class +' + .fa-check{'\n                            +'display : block;'\n                        +'}'\n                        +'.'+ this.select_class +'{'\n                            +'background-color: #5CB85C;'\n                        +'}'\n                    +'</style>');\n        this.$css.appendTo('body');\n    }\n}","import EventManager from './EventManager'\nimport GalleryModal from './GalleryModal'\nimport DataManager from './DataManager'\n\nexport default class SummernoteGallery {\n    constructor(options) {\n        this.options = $.extend({\n            name: 'summernote-gallery',\n            button_label: '<i class=\"fa fa-file-image-o\"></i>',\n            tooltip: 'summernote gallery'\n        }, options);\n\n        this.event = new EventManager();\n\n        this.plugin_default_options = {}\n    }\n\n    // set the focus to the last focused element in the editor\n    recoverEditorFocus() {\n        var last_focused_el = $(this.editor).data('last_focused_element');\n        if(typeof last_focused_el !== \"undefined\") {\n            var editor = this.editable;\n            var range = document.createRange();\n            var sel = window.getSelection();\n            var cursor_position =  last_focused_el.length;\n\n            range.setStart(last_focused_el, cursor_position);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n            editor.focus();\n        }\n    }\n\n    saveLastFocusedElement() {\n        var focused_element = window.getSelection().focusNode;\n        var parent = $(this.editable).get(0);\n        if ($.contains(parent, focused_element)) {\n            $(this.editor).data('last_focused_element', focused_element)\n        }\n    }\n\n    attachEditorEvents() {\n        var _this = this;\n\n        $(this.editable).on('keypress, mousemove', function() {\n            _this.saveLastFocusedElement();\n        })\n    }\n\n    initGallery(context) {\n        this.context = context;\n        this.editor = this.context.layoutInfo.note;\n        this.editable = this.context.layoutInfo.editable;\n        this.plugin_options = $.extend(\n            this.plugin_default_options,\n            this.context.options[this.options.name] || {}\n        );\n\n        this.modal = new GalleryModal(this.plugin_options.modal);\n        this.data_manager = new DataManager(this.plugin_options.source);\n\n        this.attachModalEvents();\n        this.attachEditorEvents();\n    }\n\n    attachModalEvents() {\n        var _this = this;\n\n        this.modal.event.on('beforeSave', function (gallery_modal) {\n            _this.recoverEditorFocus();\n        });\n\n        this.modal.event.on('save', function (gallery_modal, $image) {\n            // add selected images to summernote editor\n            _this.context.invoke(\n                'editor.pasteHTML',\n                '<img src=\"' + $image.attr('src') + '\" alt=\"' + ($image.attr('alt') || \"\") + '\" />'\n            );\n        });\n\n        this.modal.event.on('scrollBottom', function (gallery_modal) {\n            if (_this.modal.options.loadOnScroll) {\n                _this.data_manager.fetchNext();\n            }\n        });\n\n        this.modal.event.on('close', function (gallery_modal) {\n            _this.data_manager.init();\n            _this.modal.clearContent();\n        });\n    }\n\n    createButton() {\n        var _this = this;\n\n        var button = $.summernote.ui.button({\n            contents: this.options.button_label,\n            tooltip: this.options.tooltip,\n            click: function() {\n                _this.openGallery();\n            }\n        });\n\n        // create jQuery object from button instance.\n        return button.render();\n    }\n\n    attachDataEvents() {\n        var _this = this;\n\n        this.data_manager.event\n        .on('beforeFetch', function () {\n            _this.modal.showLoading();\n        })\n        .on('fetch', function (data, page, link) {\n            _this.modal.addImages(data, page);\n\n            setTimeout(function () {\n                if (_this.modal.options.loadOnScroll && !_this.modal.imagesContainerHasScroll()) {\n                    // The loadOnScroll wont work if the images container doesn't have the scroll displayed,\n                    // so we need to keep loading the images until the scroll shows.\n                    _this.data_manager.fetchNext();\n                }\n            }, 2000)\n        })\n        .on('afterFetch', function () {\n            _this.modal.hideLoading();\n        })\n        .on('error', function (error) {\n            _this.modal.showError(error, true);\n        });\n    }\n\n    openGallery() {\n        this.attachDataEvents();\n        this.data_manager.fetchData();\n        this.modal.open();\n    }\n}","import SummernoteGallery from './SummernoteGallery'\n\nexport default class GalleryPlugin {\n    constructor(options) {\n        this.options = options;\n    }\n\n    getPlugin() {\n        var plugin = {};\n        var _this = this;\n\n        plugin[this.options.name] = function(context) {\n            var summernote_gallery = new SummernoteGallery(_this.options);\n\n            // add gallery button\n            context.memo('button.' + summernote_gallery.options.name, summernote_gallery.createButton());\n\n            this.events = {\n                'summernote.keyup': function(we, e)\n                {\n                    summernote_gallery.saveLastFocusedElement();\n                }\n            };\n\n            this.initialize = function() {\n                summernote_gallery.initGallery(context);\n            };\n        }\n\n        return plugin;\n    }\n}","import GalleryPlugin from './Module'\n\nvar gallery_plugin = new GalleryPlugin({\n    name: 'gallery',\n    tooltip: 'Gallery',\n});\n\n// add the plugin to summernote\n$.extend($.summernote.plugins, gallery_plugin.getPlugin());"],"sourceRoot":""}